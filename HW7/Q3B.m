A=[0 0;-1 0;0 1];
b=[1; -1; 1];
m=size(A,2);
[Q,R]=qr(A);
Rhat=R(1:m,1:m);
b=Q.'*b;
b=b(1:m,1);
ls0=inv(Rhat)*b

%Ex 3.3.9 part a
t=[-1;-0.75;-0.5;0;0.25;0.5;0.75];
A=[1 -1 1;1 -0.75 0.5625; 1 -0.5 0.25;1 0 0; 1 0.25 0.0625; 1 0.5 0.25; 1 0.75 0.5625];
b=[1;0.8125;0.75;1;1.3125;1.75;2.3125];
m=size(A,2);
[Q,R]=qr(A);
Rhat=R(1:m,1:m);
b=Q.'*b;
b=b(1:m,1);
ls1=inv(Rhat)*b

% Part b alpha
t=[1000;1050;1060;1080;1110;1130];
A=[50 -65;50 -15;50 -5;50 15;50 45;50 65];
b=[6010;6153;6421;6399;6726;6701];
x=linspace(1000,1130);
x1=6360+5.9*x-6283.5;
plot(t,b,x,x1)
m=size(A,2);
[Q,R]=qr(A);
Rhat=R(1:m,1:m);
b=Q.'*b;
b=b(1:m,1);
ls2=inv(Rhat)*b



b=[9422;9300;9220;9150;9042;8800];
x2=9185.6-4.5039*x+4797;
plot(t,b,x,x2)
b=Q.'*b;
b=b(1:m,1);
ls3=inv(Rhat)*b


